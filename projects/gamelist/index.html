<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
  <meta name="robots" content="noindex,nofollow,noarchive">
	<title>Great Games</title>
	<link rel="stylesheet" href="../../styles.css" type="text/css"/>
	<script src="jquery-2.1.0.min.js"></script>
	<script src="code.js"></script>
	<script>
	function init_canvases() {
		// chrome doesn't parse xslt generated script block at all like firefox does, so instead of I'm putting the code I want executed in the onload callback of the canvas element
		// the onload callback doesn't get called automatically for generated content, so I'm calling the code explicitly here
		var canvases = document.getElementsByTagName('canvas');
		for(var i = 0; i < canvases.length; i++) {
			canvases[i].onload();
		}
	}
	function terminate_canvases_thread() {
		var canvases = document.getElementsByTagName('canvas');
		for(var i = 0; i < canvases.length; i++) {
			canvases[i].no_longer_needed = true;
		}
	}
	$( document ).ready(function() {
		// generate page
		displayXSLT('list_random.xsl', 'gamelist');
		displayXSLT('print_stats.xsl', 'stats');
		init_canvases();
	});
	</script>
</head>
<body>
	<p class="title">Great Games</p>
	<div id="stats"></div>
	<div id="gamelist"></div>
</body>
</html>
